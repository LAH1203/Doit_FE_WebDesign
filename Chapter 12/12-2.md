# 12-2. SVG 이미지 사용하기
## SVG 파일을 삽입하는 방법
### \<img> 태그 사용하기
SVG 파일은 이미지이기 때문에 일반적인 이미지를 삽입할 때처럼 \<img> 태그를 사용해 삽입할 수 있다. 이미지를 삽입할 때와 마찬가지로 \<img> 태그의 width 속성과 height 속성으로 크기를 지정할 수 있다.

```html
<body>
  <img src="images/air-balloon.svg" width="300" height="300">
</body>
```

<br>

### SVG 소스 그대로 넣기
앞에서 설명한 것처럼 SVG 이미지는 XML 문법을 사용한 소스이기 때문에 웹 브라우저에서 바로 보여줄 수 있다. 그래서 SVG 소스를 그대로 웹 문서에 삽입해도 된다. 다음 코드는 12\\images\\account_box.svg 이미지 소스인데, SVG 이미지는 \<svg> 태그와 \</svg> 태그 사이에 이미지 정보를 기록한다.

```html
<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
</svg>
```

SVG 이미지를 소스 형태로 사용하려면 우선 웹 편집기에서 SVG 이미지 소스를 연 후 \<svg> 태그에서 \</svg> 태그까지 복사한다. 그리고 웹 문서에서 아이콘이 들어갈 위치에 복사한 코드를 붙여 넣는다.

다음과 같이 12\\images\\account_box.svg 이미지를 웹 문서에 삽입할 수 있다.

```
<li>
  <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
  </svg>
  <a href="#">로그인</a>
</li>
```

이렇게 SVG 소스를 사용해서 이미지를 삽입하면 CSS를 사용해 이미지 크기를 조절하거나 색상 등을 바꿀 수 있다. 예를 들어 SVG 아이콘 위로 마우스 포인터를 올렸을 때 아이콘의 색을 바꾸고 싶다면 다음과 같이 CSS를 추가하면 된다.

```css
li:hover svg {
  fill: blue;
}
```

<br>

## 직접 해보기 - SVG 파일 삽입하고 스타일 수정하기
> 불러오기 : 12\svg-css.html<br>
> 비교하기 : 12\svg-css-result.html

SVG 이미지를 소스 파일을 사용해 삽입해보고 스타일을 수정하는 방법을 알아보겠다.

<br>

1. 12\\svg-css.html 문서에 air-balloon.svg 이미지 파일을 삽입하려고 한다. 우선 파일 탐색기에서 12\\images\\air-balloon.svg 파일을 더블클릭해 열어보자. 웹 브라우저가 열리면서 풍선 이미지가 표시될텐데 브라우저 창의 크기에 따라 크게 또는 작게 표시될 것이다. 이미지는 위쪽의 주황색 부분과 아래쪽의 파란색 부분으로 나뉘어 있다.

2. 웹 편집기에서 12\\images\\air-balloon.svg 파일을 열어 소스를 모두 선택한 후 이 코드 부분을 복사한다.

3. 웹 편집기에서 12\\svg-css.html 문서를 열고 \<h1> 태그 다음에 방금 복사한 소스를 붙여넣자.

4. 완성한 12\\svg-css.html 문서를 열어보면 제목 텍스트 아래에 SVG 이미지가 삽입되어 있을 것이다.

이제부터 CSS를 사용해 SVG 이미지 위로 마우스 포인터를 올려놓았을 때 주황색과 파란색 부분을 다른 색으로 바꿔보려고 한다. 앞에서 살펴본 아이콘과 달리 두 가지 색이 사용되었는데 SVG 소스에서 그 두 부분을 구별하는 방법부터 알아보겠다.

5. SVG 이미지 소스 살펴보기

웹 편집기로 돌아와 SVG 소스 부분을 살펴보겠다. 앞에서 이야기했듯이 SVG 이미지에서 색을 채우는 속성은 fill이다. SVG 소스에서 fill 속성이 들어간 부분을 먼저 찾아본다. https://www.webfx.com/web-design/color-picker/ 같은 사이트에서 색상 값을 확인해보면 해당 소스가 어떤 색상을 나타내는지 알 수 있다.

6. 바꾸려고 하는 부분이 주황색 부분과 파란색 부분이므로 그 부분에 스타일을 적용하기 위해 클래스 이름을 붙여준다. 여기에서는 주황색 부분에는 balloon, 파란색 부분에는 basket이라는 클래스 이름을 붙여보겠다.

7. 이미지 크기는 svg 태그 스타일에서 지정하고, 색상은 각 클래스 스타일에서 지정하면 된다. 예를 들어 이미지 크기를 400\*400px로 지정하고 이미지 위로 마우스 커서를 올렸을 때 주황을 파랑으로, 파랑은 주황으로 바꾸겠다면 다음과 같이 스타일 소스를 작성한다.

```css
svg {
  width: 400px;
  height: 400px;
}
svg:hover .balloon {
  fill: #003f7f;
}
svg:hover .basket {
  fill: #ff5000;
}
```

8. 다시 한 번 웹 브라우저에서 12\\svg-css.html 문서를 열어보자. 이미지 크기가 400\*400px로 바뀌어 있을 것이다. 그리고 이미지 위로 마우스 커서를 가져가면 위와 아래의 색상이 바뀌는 것을 볼 수 있다.

여기에서는 간단히 색상을 바꾸는 방법에 대해서만 알아보았지만, CSS 애니메이션을 적용할 수도 있고 자바스크립트를 사용해 다양하게 바꿀 수 있다.

<br>

## SVG 파일을 지원하지 않는 하위 버전 대응하기 - Moderinzr 스크립트 추가
대부분의 모던 브라우저에서는 SVG 파일을 지원하지만 인터넷 익스플로러 8 이하 버전이나 안드로이드 2.3 이하 버전에서는 SVG 파일을 표시할 수 없다. 이런 버전까지 고려해야 할 경우에는 SVG 이미지 파일 대신 PNG 이미지 파일을 사용해야 한다.

이럴 때는 사용자의 브라우저가 SVG 파일을 지원하는지 먼저 테스트해보고 SVG 파일을 지원하지 않는다면 \<img> 태그의 src 속성에 PNG 파일 경로를 지정해주는 식으로 사용한다. 이렇게 브라우저에서 특정 기능을 지원하는지 여부를 테스트해주는 도구가 Modernizr이다.

<br>

## 직접 해보기 - SVG 체크하는 Modernizr 스크립트 다운로드하기
1. SVG 기능을 체크하는 Modernizr를 다운로드하려면 [Modernizr 사이트](https://modernizr.com/)에 접속한 후 'Add your detects'를 클릭한다.

2. Modernizr에서 체크할 수 있는 다양한 기능이 나타나는데 이 중에서 'SVG'를 선택하고 'BUILD'를 클릭한다.

3. 'Build' 항목 오른쪽의 'Download'를 클릭해 js 파일을 다운로드한다. 다운로드한 파일의 이름은 modernizr-custom.js인데 이 파일을 사용할 폴더로 옮긴다.

<br>

## 직접 해보기 - SVG 파일 대신 PNG 파일 표시하기
> 불러오기 : 12\svg-to-png.html<br>
> 비교하기 : 12\svg-to-png-result.html

Modernizr를 사용해 SVG 파일 사용 여부를 체크한 후 SVG 파일을 지원하지 않을 경우 PNG 파일로 바꿔서 표시할 수 있다. 그래서 SVG 파일 대신에 사용할 PNG 파일을 준비해야 한다. 그리고 파일 이름과 경로를 똑같이 해야한다. 예를 들어 air-balloon.svg 대신 사용할 파일을 같은 폴더에 air-balloon.png로 저장한다.

그리고 웹 브라우저에서 SVG 파일 기능을 지원하는지 여부를 체크하는 것은 다음 두 코드 중 하나를 \</body> 태그 바로 앞에 사용하면 된다. 단 이 스크립트는 SVG 파일을 \<img> 태그로 삽입했을 경우에만 사용할 수 있다.

```javascript
if (Modernizr.svg) {
  // 지원할 경우
} else {
  // 지원하지 않을 경우
}
```

<br>

1. 앞에서 SVG 파일을 체크하는 Modernizr 스크립트 파일을 다운로드했다. 이 책의 12\\js 폴더에도 SVG 파일을 체크하는 modernizr-custom.js가 포함되어 있다. 이 스크립트 파일을 앞에서 저장한 12\\svg-to-png.html에 연결하기 위해 다음 코드를 수정한다.

```html
  <script src="js/modernizr-custom.js"></script>
</body>
```

2. 이제 SVG 파일 대신 PNG 파일 이미지를 삽입하는 스크립트 소스가 필요하다. 이 소스는 https://coderwall.com/p/u_ngaa/fallback-svg-to-png-in-img-element 사이트에서 찾을 수 있다. 화면에 있는 소스를 복사한다.

3. 웹 편집기로 돌아와 \</body> 태그 앞에 \<script> 태그와 \</script> 태그를 입력한다.

4. 방금 입력한 \<script> 태그 사이에 복사한 소스를 붙여 넣는다.

```html
<script>
    // Check if browser can handle SVG
    if(!Modernizr.svg){
        // Get all img tag of the document and create variables
        var i=document.getElementsByTagName("img"),j,y;

        // For each img tag
        for(j = i.length ; j-- ; ){
            y = i[j].src
            // If filenames ends with SVG
            if( y.match(/svg$/) ){
                // Replace "svg" by "png"
                i[j].src = y.slice(0,-3) + 'png'
            }
        }
    }
</script>
```

5. 스크립트 소스가 제대로 동작하는지 확인하려면 인터넷 익스플로러 브라우저를 사용해야 한다. 인터넷 익스플로러 브라우저에서 12\\svg-to-png.html 파일을 불러온다. 최신 인터넷 익스플로러 브라우저라면 SVG 이미지로 표시될 것이다.

6. 인터넷 익스플로러 화면에서 F12를 눌러 웹 개발자 도구 창이 나타나게 한다. 인터넷 익스플로러 8 환경에서 웹 문서가 어떻게 보이는지 테스트하기 위해 웹 개발자 도구 창 오른쪽 위에 있는 컴퓨터 화면 아이콘을 클릭한 후 '8'을 선택한다.

7. 웹 개발자 도구 창에서 'DOM 탐색기' 탭을 클릭해보면 SVG 이미지 자리에 air-balloon.png 이미지가 표시된 것을 볼 수 있다.

